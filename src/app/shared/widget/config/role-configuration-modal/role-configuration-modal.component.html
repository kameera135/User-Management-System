<div class="modal-header">
  <h5 class="modal-title fs-4" id="addReadingsModal">{{ modalTitle }}</h5>
  <button
    id="btnCommonModalClose"
    type="button"
    class="bg-transparent border-0"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')"
  >
    <span aria-hidden="true">
      <i class="bi bi-x-lg text-dark"></i>
    </span>
  </button>
</div>

<form #form="ngForm" (ngSubmit)="onFormSubmit()">
  <div class="row modal-body">
    <div class="col-6" *ngIf="type != 'Add' && type != 'Edit'">
      <div class="mb-3">
        <label class="col-form-label">Role Code*</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="roleCode"
          name="roleCode"
          [disabled]="type == 'View' || type == 'Permission'"
        />
        <div class="input-group"></div>
      </div>
    </div>

    <div  [ngClass]="{'col-12': type === 'Add' || type === 'Edit', 'col-6': type !== 'Add' && type !== 'Edit'}">
      <div class="mb-3">
        <label class="col-form-label">Role Name*</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="roleName"
          name="roleName"
          [disabled]="type == 'View' || type == 'Permission'"
        />
      </div>
    </div>

    <div class="col-12" *ngIf="type!= 'Permission'">
      <div class="mb-3">
        <label class="col-form-label">Description*</label>
        <textarea
          type="text"
          class="form-control"
          [(ngModel)]="description"
          name="createdBy"
          [disabled]="type == 'View'">
        </textarea> 
      </div>
    </div>

    <div class="col-12">
      <div class="mb-3">
        <label class="col-form-label">Platforms</label>
        <select
          class="form-select"
          aria-label="Platform"
          [(ngModel)]="platform"
          [disabled]="!isEditable || type === 'View'"
        >
          <!-- <option selected value="">Select...</option> -->
          <option *ngFor="let item of platformList" [value]="item.value">
            {{ item.value }}
          </option>
        </select>
      </div>
    </div>

    <div class="col-12" *ngIf="type != 'Add' && type != 'Edit'">
      <div class="mb-3">
          <label class="col-form-label">Permissions</label>
          <div class="input-group">
              <textarea 
                  class="form-control" 
                  name="permission"
                  [ngModel]="permission"
                  [disabled]="!isEditable || type === 'View'" 
                  cols="30" 
                  rows="15">
              </textarea>
              <div class="input-group-append" *ngIf="type != 'View'">
                  <button class="btn btn-outline-secondary edit-button" type="button" (click)="toggleListItems()">
                    <i class="fas fa-plus"></i> 
                  </button>
              </div>
          </div>
      </div>
       <!-- Box to display list items -->
       <div class="list-items-box" *ngIf="showListItems">
          <ul>
              <li *ngFor="let item of listItems">
                  <label>
                      <input type="checkbox" [(ngModel)]="item.selected" />
                      {{ item.name }}
                  </label>
              </li>
          </ul>
          <button class="btn btn-primary" (click)="addSelectedItems()">Done</button>
      </div>
    </div>

    <div class="col-6" *ngIf="type != 'Add' && type != 'Edit' && type != 'Permission'">
      <div class="mb-3">
        <label class="col-form-label">Created Date*</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="createdDate"
          name="createdDate"
          [disabled]="type == 'View'"
        />
      </div>
    </div>

    <div class="col-6" *ngIf="type != 'Add' && type != 'Permission'">
      <div class="mb-3">
        <label class="col-form-label">Status</label>
        <select 
          class="form-select"
          [(ngModel)]="status"
          name="status"
          [disabled]="type === 'View'">

          <option *ngFor="let option of statusOptions" [value]="option.value">
            {{ option.label }}
          </option>
        </select>
      </div>
    </div>

    <div class="col-12 mx-auto">
      <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-success btn-label mt-3">
          <i class="bi {{ buttonIcon }} label-icon align-middle fs-16 me-2"></i>{{ buttonName }}
        </button>

        <!--Cancel button-->
        <button type="button" class="btn btn-danger btn-label mt-3 ms-2" (click)="activeModal.dismiss()">
          <i class="bi {{ cancelButtonIcon }} label-icon align-middle fs-16 me-2"></i>{{ cancelButtonName }}
        </button>
      </div>
    </div>
  </div>
</form>

<div class="modal-footer"></div>
