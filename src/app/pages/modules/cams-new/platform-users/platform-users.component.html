<div class="row align-items-center" *ngIf="loadingInProgress">
  <app-waiting-circle></app-waiting-circle>
</div>

<div class="row mb-3 mx-1  {{ loadingInProgress ? 'hidden' : '' }}">
    <div class="row mb-3 mx-1">
        <div class="card">
          <div class="card-header">
            <div class="row">
              <div class="col-12 mt-1 col-sm-10 col-md-8 col-lg-6 col-xl-7"><h3>{{platformName}} Users</h3></div>
      
              <div class="form-outline col-12 col-sm-6 col-lg-3 mt-2">
                <input
                  (keyup)="getSearchTerm($event)"
                  [(ngModel)]="searchTerm"
                  type="text"
                  id="searchKey"
                  class="form-control input-sm"
                  placeholder="Search user by username / FirstName / LastName"
                />
                <i
                class="bi bi-search position-absolute top-50 end-0 translate-middle-y me-4"
                (click)="searchOnClick()"
                style="cursor: pointer;"
              ></i>
              </div>

              <div class="col-12 col-lg-3 col-xl-2 col-sm-6 mt-2 d-flex flex-column justify-content-end">
                <a
                  class="btn btn-primary float-end"
                  style="margin-right: 3"
                  (click)="onAddUserButtonClicked()"
                >
                  <i
                    class="bi bi-person-plus-fill label-icon align-middle fs-16 me-2"
                  ></i>
                  Assign Users</a
                >
              </div>
            </div>
          </div>
      
          <div class="card-body pb-3">
            <!--onDelete button functioning the un assign user function-->
            <app-table
              *ngIf="!loadingInProgress"
              [headArray]="headArray"
              [dataArray]="tableData"
              [dataTableOptions]="usersViewTableOptions"
              [totalRowsInSelection]="totalDataCount"
              [selectedPageSize]="selectedPageSize"
              [selectedPage]="selectedPage"
              (onPaginationChanged)="onPaginationChange($event)"
              (onPagesizeChanged)="onPagesizeChange($event)"
              (onEdit)="onEditButtonClicked($event)"
              (onDelete)="unassignUser($event)"
              (onRowDoubleClick)="onViewButtonClicked($event)"
              (dblClick)="onViewButtonClicked($event)"
            >
            </app-table>
          </div>
        </div>
      </div>
      
